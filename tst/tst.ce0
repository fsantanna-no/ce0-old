type rec Nat {
    Succ: Nat
}

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

func add: (Nat,&Nat) -> Nat {
    var x: Nat  = arg.1
    var y: &Nat = arg.2
    if y.$Nat? {
        return x
    } else {
        return Succ(add(x,y.Succ!))
    }
}

output(&add(Succ($Nat),&Succ($Nat)))

-------------------------------------------------------------------------------

var x: Nat = Succ($Nat)
var y: Nat = Succ($Nat)

set x = add(x,&y)
output(&x)

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
